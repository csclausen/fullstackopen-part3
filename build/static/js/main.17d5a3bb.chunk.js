(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(14),u=t.n(o),l=t(4),c=t(2),i=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNewPerson})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNewNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},s=function(e){var n=e.person,t=e.handleDelete;return r.a.createElement("li",null,n.name,": ",n.number,r.a.createElement("button",{value:n.id,onClick:t},"delete"))},m=function(e){return r.a.createElement("ul",null,e.persons.filter((function(n){return n.name.toLowerCase().includes(e.nameFilter.toLowerCase())})).map((function(n){return r.a.createElement(s,{key:n.name,person:n,handleDelete:e.handleDelete})})))},d=function(e){return r.a.createElement("div",null,"shown with filter:",r.a.createElement("input",{value:e.nameFilter,onChange:e.handleNameFilter}))},f=function(e){if(null===e.notification.message)return null;var n="success"===e.notification.style?{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBotton:10}:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBotton:10};return r.a.createElement("div",{style:n},e.notification.message)},h=t(3),b=t.n(h),p="http://localhost:3001/api/persons",g=function(){return b.a.get(p).then((function(e){return e.data}))},v=function(e){return b.a.post(p,e).then((function(e){return e.data}))},E=function(e){return b.a.delete("".concat(p,"/").concat(e)).then((function(e){return e.data}))},w=function(e){return b.a.put("".concat(p,"/").concat(e.id),e).then((function(e){return e.data}))},y=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),s=Object(c.a)(u,2),h=s[0],b=s[1],p=Object(a.useState)(""),y=Object(c.a)(p,2),j=y[0],N=y[1],O=Object(a.useState)(""),k=Object(c.a)(O,2),S=k[0],D=k[1],C=Object(a.useState)({style:"",message:null}),F=Object(c.a)(C,2),P=F[0],B=F[1];Object(a.useEffect)((function(){g().then((function(e){o(e)}))}),[]);var I=function(e){B(e),setTimeout((function(){B({style:"",message:null})}),2500)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(f,{notification:P}),r.a.createElement(d,{nameFilter:S,handleNameFilter:function(e){D(e.target.value)}}),r.a.createElement("h3",null,"add new"),r.a.createElement(i,{addPerson:function(e){if(e.preventDefault(),t.some((function(e){return e.name===h&&e.number===j}))){var n={style:"error",message:"".concat(h," already in phonebook")};I(n)}else if(t.some((function(e){return e.name===h}))){if(window.confirm("".concat(h," is already in the phonebook.  Do you wish to replace their number with ").concat(j,"?"))){var a=t.find((function(e){return e.name===h})),r=Object(l.a)(Object(l.a)({},a),{},{number:j});w(r).then((function(e){o(t.map((function(n){return n.id!==r.id?n:e})))}));var u={style:"success",message:"".concat(h,"'s number updated")};I(u)}}else{if(""!==h&&""!==j)v({name:h,number:j}).then((function(e){o(t.concat(e)),b(""),N("");var n={style:"success",message:"".concat(h," added")};I(n)}));else{I({style:"error",message:"name and number required"})}}},newName:h,newNumber:j,handleNewPerson:function(e){b(e.target.value)},handleNewNumber:function(e){N(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(m,{persons:t,nameFilter:S,handleDelete:function(e){var n=e.target.value;window.confirm("Do you wish to delete this entry?")&&E(n).then((function(){var e=t.find((function(e){return e.id===parseInt(n)})).name;o(t.filter((function(e){return e.id!==parseInt(n)})));var a={style:"success",message:"".concat(e," deleted")};I(a)}))}}))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.17d5a3bb.chunk.js.map